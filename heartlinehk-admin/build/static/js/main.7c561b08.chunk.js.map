{"version":3,"sources":["components/ConfirmModal.js","components/NoticeModal.js","img/logo/logo_80x80.png","components/NavBar.js","pages/ProfileUpdate.js","pages/Supervisor.js","components/Loading.js","components/DropdownModal.js","sound/pristine-609.mp3","pages/Chatroom.js","pages/Dashboard.js","pages/Login.js","App.js","index.js"],"names":["ConfirmModal","props","id","modalId","className","confirmText","type","name","onClick","formSubmitHandler","NoticeModal","noticeText","NavBar","menuNav","useRef","navBackgroundDiv","useState","isSupervisor","setIsSupervisor","closeNav","current","style","transitionDuration","classList","remove","useEffect","firebase","database","ref","child","currentUser","uid","once","snapshot","val","add","href","src","logo","alt","to","handleLogout","displayName","ProfileUpdate","displayNameInputRef","handleProfileUpdate","e","a","preventDefault","newDisplayName","value","updateProfile","alert","Error","console","error","message","onSubmit","htmlFor","Supervisor","specialChatMessages","onlineTimeRef","assignedRef","disconnectRef","chatroomRef","messageContainerDiv","disconnectTime","setDisconnectTime","onlineTime","setOnlineTime","chatLog","setChatLog","handleChatLogChanges","tmpChatLog","log","chatId","push","handleOnlineTimeChanges","tmpOnlineTime","volunId","handleConnectionChanges","selectVolun","target","innerHTML","clientId","assignedClient","tmpClientId","localCurrentVolun","sessionStorage","getItem","localCurrentClient","orderByChild","off","setItem","on","Date","now","getFormattedDateString","msec","targetDate","hourString","getHours","toString","minuteString","getMinutes","monthString","getMonth","getDate","removeItem","length","scrollTo","scrollHeight","map","idx","Loading","DropdownModal","dropdownOptions","setDropdownOptions","descriptionText","dropdownId","Chatroom","recordRef","queueRef","typingRef","transferRef","recordFormUrl","recordFormEntries","clientContainerDiv","clientQueue","setClientQueue","currentClient","setCurrentClient","freeVolun","setFreeVolun","transferFromVolunId","setTransferFromVolunId","isStartingChat","setIsStartingChat","isEndingChat","setIsEndingChat","isSendingMessage","setIsSendingMessage","isQueueOpened","setIsQueueOpened","isClientTyping","setIsClientTyping","isUserTyping","setIsUserTyping","isPickerOpened","setIsPickerOpened","isTransferringChat","setIsTransferringChat","handleQueueChanges","tmpClientQueue","isNewEnqueue","oldClientQueue","document","querySelectorAll","userId","isOldEnqueue","forEach","client","i","j","tmp","Audio","newClientSound","play","handleIncomingTransferChanges","handleOutgoingTransferChanges","targetVolunId","onDisconnect","cancel","set","handleTypingStatusChanges","setupChatroomListener","assignedSnapshot","warn","startNewChat","progress","tmpCurrentClient","tmpInQueueTime","ReferenceError","RangeError","queueClientRef","transaction","queueClient","ServerValue","TIMESTAMP","queueClientTransaction","committed","assignedClientRef","assignedClientTransaction","initialMessageRef","initialMessage","initialMessageTransaction","endChat","isClientLeft","startChatMsec","endChatMsec","isRoomAssignedNull","isSpecialMessage","isClientInQueue","limitToFirst","initialChatMessage","chatroomTransaction","currentRecordRef","startChatTime","startChatHour","startChatMinutes","endChatTime","endChatHour","endChatMinutes","currentMonth","currentDay","prefilledRecordFormUrl","getFullYear","window","open","sendChatMessage","messageToBeSent","getElementById","newMessageRef","newMessage","newMessageTransaction","trasnferChatFormHandler","modalContainerDiv","parentElement","localTransferringChat","volunDropdownList","isTargetFree","onlineVoluns","roomAssigned","isTargetChatting","resolveRequestFormHandler","transferDetails","fromVolunId","oldStatus","requestStatusTransaction","specialCharHandler","specialChar","msgInput","querySelector","originalMsgStart","substring","selectionStart","originalMsgEnd","selectionEnd","focus","setSelectionRange","toggleQueue","toggle","openTransferChatModal","tmpFreeVolun","onlineVolunId","isChatting","scrollSpecialChar","rem","parseFloat","getComputedStyle","documentElement","fontSize","spcCharDiv","arrowButton","scrollBy","transferRequestModal","char","placeholder","onInput","currentlyTyping","onEmojiClick","emojiObject","emoji","data-time","disabled","Dashboard","Login","handleLogin","required","App","setCurrentUser","isLoggingIn","setIsLoggingIn","auth","onlineTimeInfo","agentUid","isReconnected","currentEmail","currentPassword","setPersistence","Auth","Persistence","SESSION","signInWithEmailAndPassword","isAutoLogout","signOut","onAuthStateChanged","user","setViewHeight","vh","innerHeight","setProperty","tmpId","charType","numOfChar","asciiStart","Math","floor","random","String","fromCharCode","generateId","addEventListener","width","minHeight","position","backgroundColor","display","flexDirection","overflow","exact","path","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7c561b08.chunk.js","sourcesContent":["import \"../styles/ConfirmModal.css\";\r\n\r\nconst ConfirmModal = (props)=>{\r\n\r\n    return (\r\n        <div id={(props.modalId?props.modalId:\"default-modal\")} className=\"modal-container\">\r\n            <form className=\"confirm-modal\">\r\n                <p className=\"confirm-text\">{(props.confirmText?props.confirmText:\"Changes might be lost if you leave now. Confirm?\")}</p>\r\n                <button type=\"submit\" name=\"confirm-btn\" className=\"confirm-btn\" onClick={props.formSubmitHandler}>確定</button>\r\n                <button type=\"submit\" name=\"cancel-btn\" className=\"cancel-btn\" onClick={props.formSubmitHandler}>取消</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ConfirmModal;","import \"../styles/NoticeModal.css\";\r\n\r\nconst NoticeModal = (props)=>{\r\n\r\n    return (\r\n        <div id={(props.modalId?props.modalId:\"default-modal\")} className=\"modal-container\">\r\n            <form className=\"notice-modal\">\r\n                <p className=\"notice-text\">{(props.noticeText?props.noticeText:\"Default Text for Notice Modal.\")}</p>\r\n                <button type=\"submit\" name=\"confirm-btn\" className=\"confirm-btn\" onClick={props.formSubmitHandler}>確定</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NoticeModal;","export default __webpack_public_path__ + \"static/media/logo_80x80.6314ce1a.png\";","import { useRef, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport logo from \"../img/logo/logo_80x80.png\";\r\nimport \"../styles/NavBar.css\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nconst NavBar = (props) =>{\r\n\r\n    const menuNav = useRef();\r\n    const navBackgroundDiv = useRef();\r\n    const [isSupervisor, setIsSupervisor] = useState(false);\r\n\r\n    const openNav = ()=>{\r\n        menuNav.current.style.transitionDuration = \"0.5s\";\r\n        menuNav.current.classList.add(\"opened\");\r\n        navBackgroundDiv.current.classList.add(\"opened\");\r\n    };\r\n\r\n    const closeNav = ()=>{\r\n        menuNav.current.style.transitionDuration = \"0.5s\";\r\n        menuNav.current.classList.remove(\"opened\");\r\n        navBackgroundDiv.current.classList.remove(\"opened\");\r\n    }\r\n\r\n    useEffect(()=>{\r\n        firebase.database().ref('supervisors').child(props.currentUser.uid).once('value', (snapshot)=>{\r\n            if (snapshot.val() != null) setIsSupervisor(true);\r\n            else setIsSupervisor(false);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <button className=\"nav-toggle-btn\" onClick={openNav}><span className=\"material-icons\">menu</span></button>\r\n\r\n        <nav className=\"nav-container\" ref={menuNav}>\r\n            <a href=\"#\" className=\"nav-logo\">\r\n                <img src={logo} alt={logo} className=\"front\" />\r\n                <p className=\"nav-name\">HEARTLINEHK</p>\r\n            </a>\r\n            <ul className=\"nav-items-container\">\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/\" className=\"nav-link\" onClick={closeNav}>\r\n                        <span className=\"material-icons\">home</span> 資訊版面\r\n                    </Link>    \r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/chatroom\" className=\"nav-link\" onClick={closeNav}>\r\n                        <span className=\"material-icons\">chat</span> 聊天室\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/profile-update\" className=\"nav-link\" onClick={closeNav}>\r\n                        <span className=\"material-icons\">badge</span> 更改個人資料\r\n                    </Link>\r\n                </li>\r\n                {isSupervisor && \r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/supervisor\" className=\"nav-link\" onClick={closeNav}>\r\n                        <span className=\"material-icons\">question_answer</span> 管理員版面\r\n                    </Link>\r\n                </li>\r\n                }\r\n\r\n            </ul>\r\n            <div className=\"nav-user\" onClick={props.handleLogout}>\r\n                <img src=\"https://t4.ftcdn.net/jpg/02/34/61/79/360_F_234617921_p1AGQkGyEl8CSzwuUI74ljn6IZXqMUf2.jpg\" alt=\"\" />\r\n                <a className=\"username\">{props.currentUser.displayName}</a>\r\n            </div>\r\n        </nav>\r\n\r\n        <div ref={navBackgroundDiv} className=\"nav-background\" onClick={closeNav}></div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NavBar;\r\n\r\n//                \r\n//\r\n//\r\n//","import \"../styles/ProfileUpdate.css\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport { useRef } from \"react\";\r\n\r\nconst ProfileUpdate = (props)=>{\r\n\r\n    const displayNameInputRef = useRef();\r\n\r\n    const handleProfileUpdate = async (e)=>{\r\n        e.preventDefault();\r\n        try{\r\n            if (props.currentUser){\r\n                const newDisplayName = displayNameInputRef.current.value;\r\n                if (newDisplayName != \"\"){\r\n                    await props.currentUser.updateProfile({\r\n                        displayName: newDisplayName\r\n                    });\r\n                    displayNameInputRef.current.value = \"\";\r\n                    alert(\"Profile Update Successful!\");\r\n                }else throw new Error(\"New Display Name is null!\");\r\n            }else throw new Error(\"Current User is null!\");\r\n        }catch(error){\r\n            console.error(\"ERROR: \"+error.message);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"profile-update\">\r\n            <form className=\"update-form\" onSubmit={handleProfileUpdate}>\r\n                <label htmlFor=\"display-name-input\">新顯示名稱</label>\r\n                <input ref={displayNameInputRef} type=\"text\" name=\"display-name-input\" id=\"display-name-input\" />\r\n                <button type=\"submit\">更改資料</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileUpdate;","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport \"../styles/Supervisor.css\";\r\n\r\nconst Supervisor = (props)=>{\r\n\r\n    const specialChatMessages = {\r\n        'clientLeft': \"使用者已離開聊天室\",\r\n        'volunLeft': \"義工已離開聊天室\",\r\n        'clientId': \"義工已開啟聊天室\",\r\n        'noChatStarted': \"此義工未有開啟聊天室\"\r\n    }\r\n    //Volunteer Online Time database reference\r\n    const onlineTimeRef = firebase.database().ref('online_time');\r\n    //Room Assigned database reference\r\n    const assignedRef = firebase.database().ref('room_assigned');\r\n    //Disconnect Time database reference\r\n    const disconnectRef = firebase.database().ref('disconnect_time');   \r\n    //Chatroom database reference\r\n    const chatroomRef = firebase.database().ref('chat_log');\r\n    //Refernce of the Message container div \r\n    const messageContainerDiv = useRef(null);\r\n    //Disconnect time of current client\r\n    const [disconnectTime, setDisconnectTime] = useState(null);\r\n    //Online Time local list copy\r\n    const [onlineTime, setOnlineTime] = useState([]);\r\n    //Chat Log local list copy\r\n    const [chatLog, setChatLog] = useState([]);\r\n    //Flag indicating the current user is supervisor\r\n    const [isSupervisor, setIsSupervisor] = useState(false);\r\n\r\n\r\n    //Callback for handling new chat messages\r\n    const handleChatLogChanges = (snapshot)=>{\r\n        let tmpChatLog = [];\r\n        console.log(snapshot.val());\r\n        if (snapshot.val() != null){\r\n            for (const chatId in snapshot.val()) tmpChatLog.push({\r\n                'chatId': chatId,\r\n                'uid': snapshot.val()[chatId]['uid'],\r\n                'time': snapshot.val()[chatId]['time'],\r\n                'msg': snapshot.val()[chatId]['msg'],\r\n                'spc': snapshot.val()[chatId]['spc']\r\n            });\r\n        }\r\n        console.log(tmpChatLog);\r\n        setChatLog(tmpChatLog);\r\n    };\r\n\r\n    //Callback for handling online time changes\r\n    const handleOnlineTimeChanges = (snapshot)=>{\r\n        let tmpOnlineTime = [];\r\n        if (snapshot.val() != null){\r\n            for (const volunId in snapshot.val()) tmpOnlineTime.push(volunId);\r\n        }\r\n        console.log(tmpOnlineTime);\r\n        setOnlineTime(tmpOnlineTime);\r\n    }\r\n\r\n    //Callback for handling disconnect/reconnect changes\r\n    const handleConnectionChanges = (snapshot)=>{\r\n        setDisconnectTime(snapshot.val());\r\n    };\r\n\r\n    //Function for handling the selection of volunteer\r\n    const selectVolun = async (e)=>{\r\n        const volunId = e.target.innerHTML;\r\n        let clientId = null;\r\n        let assignedClient = (await assignedRef.once('value')).val();\r\n        for (const tmpClientId in assignedClient){\r\n            if (assignedClient[tmpClientId] === volunId){\r\n                clientId = tmpClientId;\r\n                break;\r\n            }\r\n        }\r\n        console.log(volunId);\r\n        console.log(clientId);\r\n\r\n        const localCurrentVolun = sessionStorage.getItem('heartlinehk-supervisor-currentVolun');\r\n        const localCurrentClient = sessionStorage.getItem('heartlinehk-supervisor-currentClient');\r\n        if (localCurrentVolun) chatroomRef.child(localCurrentVolun).orderByChild('time').off('value');\r\n        if (localCurrentClient) disconnectRef.child(localCurrentClient).off('value'); \r\n        \r\n        sessionStorage.setItem('heartlinehk-supervisor-currentVolun', volunId);\r\n        sessionStorage.setItem('heartlinehk-supervisor-currentClient', clientId);\r\n        setDisconnectTime(null);\r\n        if (clientId != null){\r\n            chatroomRef.child(volunId).orderByChild('time').on('value', handleChatLogChanges);\r\n            disconnectRef.child(clientId).on('value', handleConnectionChanges);\r\n        }else setChatLog([{\r\n            'chatId': \"nochatstarted\",\r\n            'uid': volunId,\r\n            'time': Date.now(),\r\n            'spc': \"noChatStarted\"\r\n        }]);\r\n    }\r\n\r\n    const getFormattedDateString = (msec) =>{\r\n        let targetDate = new Date(msec);\r\n        let hourString = (targetDate.getHours()<10?\"0\"+targetDate.getHours().toString():targetDate.getHours().toString());\r\n        let minuteString = (targetDate.getMinutes()<10?\"0\"+targetDate.getMinutes().toString():targetDate.getMinutes().toString());\r\n        let monthString = (targetDate.getMonth()<9?\"0\"+(targetDate.getMonth()+1).toString():(targetDate.getMonth()+1).toString());\r\n        let dayString = (targetDate.getDate()<10?\"0\"+targetDate.getDate().toString():targetDate.getDate().toString());\r\n\r\n        return (hourString+\":\"+minuteString+\", \"+dayString+\"/\"+monthString);\r\n    };\r\n\r\n    useEffect(()=>{\r\n\r\n        firebase.database().ref('supervisors').child(props.currentUser.uid).once('value', (snapshot)=>{\r\n            if (snapshot.val() != null) setIsSupervisor(true);\r\n            else setIsSupervisor(false);\r\n        });\r\n        onlineTimeRef.on('value', handleOnlineTimeChanges);\r\n\r\n\r\n        return()=>{\r\n            //Unsubscribe events when unmount component\r\n            console.log(\"Supervisor Unmounted!\");\r\n            onlineTimeRef.off('value');\r\n            const localCurrentVolun = sessionStorage.getItem('heartlinehk-supervisor-currentVolun');\r\n            const localCurrentClient = sessionStorage.getItem('heartlinehk-supervisor-currentClient');\r\n            if (localCurrentVolun){\r\n                chatroomRef.child(localCurrentVolun).orderByChild('time').off('value');\r\n                sessionStorage.removeItem('heartlinehk-supervisor-currentVolun');\r\n            }\r\n            if (localCurrentClient){\r\n                disconnectRef.child(localCurrentClient).off('value');\r\n                sessionStorage.removeItem('heartlinehk-supervisor-currentClient');\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        if (chatLog.length > 0){\r\n            messageContainerDiv.current.scrollTo(0, messageContainerDiv.current.scrollHeight);\r\n        }\r\n    }, [chatLog]);\r\n\r\n    return (\r\n        <div className=\"supervisor\">\r\n            <div className=\"volunteers-container\">\r\n                {onlineTime.map((val, idx)=>{\r\n                    const localCurrentVolun = sessionStorage.getItem('heartlinehk-supervisor-currentVolun');\r\n                    return (\r\n                        <button key={\"online-volun-\"+idx} className={\"volun-btn\"+(localCurrentVolun === val?\" selected\":\"\")} value={val} onClick={selectVolun}>{val}</button>\r\n                    );\r\n                })}\r\n            </div>\r\n            {disconnectTime != null &&\r\n                <p className=\"disconnect-msg\">使用者已於{getFormattedDateString(disconnectTime)}開始離線。</p>\r\n            }\r\n            <div ref={messageContainerDiv} className=\"chat-container\">\r\n                {chatLog.length > 0 && chatLog.map((val, idx)=>{\r\n                    const localCurrentVolun = sessionStorage.getItem('heartlinehk-supervisor-currentVolun');\r\n                    return(\r\n                        <p key={val['chatId']} className={\"message \"+(val['spc']?\"special\":(val['uid'] === localCurrentVolun?\"right\":\"left\"))}>\r\n                            {(val['msg']?val['msg']:(specialChatMessages[val['spc']]?specialChatMessages[val['spc']]:specialChatMessages['clientId']))}\r\n                            <span>{getFormattedDateString(val['time'])}</span>\r\n                        </p>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Supervisor;","import \"../styles/Loading.css\";\r\n\r\nconst Loading = ()=>{\r\n    return (\r\n        <div className=\"loading\">\r\n            <div className=\"spinning-circle\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loading;","import { useEffect, useState } from \"react\";\r\nimport \"../styles/DropdownModal.css\";\r\n\r\nconst DropdownModal = (props)=>{\r\n\r\n    const [dropdownOptions, setDropdownOptions] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        setDropdownOptions(props.dropdownOptions);\r\n    }, [props.dropdownOptions]);\r\n\r\n    return (\r\n        <div id={(props.modalId?props.modalId:\"default-modal\")} className=\"modal-container\">\r\n            <form className=\"dropdown-modal\">\r\n                <p className=\"description-text\">{(props.descriptionText?props.descriptionText:\"Choose from the list below.\")}</p>\r\n                <select id={(props.dropdownId?props.dropdownId:\"default-dropdown-list\")} name=\"dropdown-list\" className=\"dropdown-list\">\r\n                    {dropdownOptions.map((val, idx)=>{\r\n                        return <option key={idx} value={val} className=\"dropdown-option\">{val}</option>\r\n                    })}\r\n                </select>\r\n                <button type=\"submit\" name=\"confirm-btn\" className=\"confirm-btn\" onClick={props.formSubmitHandler}>確定</button>\r\n                <button type=\"submit\" name=\"cancel-btn\" className=\"cancel-btn\" onClick={props.formSubmitHandler}>取消</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DropdownModal;","export default __webpack_public_path__ + \"static/media/pristine-609.9287f5ce.mp3\";","import Loading from \"../components/Loading.js\";\r\nimport ConfirmModal from \"../components/ConfirmModal.js\";\r\nimport DropdownModal from \"../components/DropdownModal.js\";\r\nimport NoticeModal from \"../components/NoticeModal.js\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport \"../styles/Chatroom.css\";\r\nimport newClientSound from \"../sound/pristine-609.mp3\"\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\n\r\nconst Chatroom = (props) =>{\r\n\r\n    const specialChineseChars = ['啲','咁','嗰','咗','喺','係','哋','唔','咩','咪','嘅','㗎','喎','嘢','嚟','囉','乜','叻','呢','啱','睇','諗','噏','嘥','晒','咋','瞓','唞','氹','攰','俾','閂','呀','啦','冧','晏','嬲','喇'];\r\n    const specialChatMessages = {\r\n        'clientLeft': \"使用者已離開聊天室\",\r\n        'volunLeft': \"義工已離開聊天室\",\r\n        'clientId': \"義工已開啟聊天室\"\r\n    }\r\n\r\n    //Volunteer Online Time database reference\r\n    const onlineTimeRef = firebase.database().ref('online_time');\r\n    //Chat Records database reference\r\n    const recordRef = firebase.database().ref('chat_records');\r\n    //Chat Queue database reference\r\n    const queueRef = firebase.database().ref('chat_queue');\r\n    //Room Assigned database reference\r\n    const assignedRef = firebase.database().ref('room_assigned');\r\n    //Disconnect Time database reference\r\n    const disconnectRef = firebase.database().ref('disconnect_time');\r\n    //Typing Status database reference\r\n    const typingRef = firebase.database().ref('typing_status');\r\n    //Chatroom database reference\r\n    const chatroomRef = firebase.database().ref(`chat_log/${props.currentUser.uid}`);\r\n    //Transfer Requests database reference\r\n    const transferRef = firebase.database().ref(`transfer_requests/${props.currentUser.uid}`);\r\n    //Chat record Google Form\r\n    const recordFormUrl = \"https://docs.google.com/forms/d/e/1FAIpQLSdsD_qLU51OC9UY0Rrx_Ht52aU0TgPU-LUu5yNp4ta8cYu0yQ/viewform?usp=pp_url\";    \r\n    //Chat record Google Form field entries\r\n    const recordFormEntries = {\r\n        'date': \"entry.1533999842\",\r\n        'startTime': \"entry.240218030\",\r\n        'endTime': \"entry.1133078412\"\r\n    }\r\n    //Refernce of the Message container div \r\n    const messageContainerDiv = useRef(null);\r\n    //Reference of the Client container div;\r\n    const clientContainerDiv = useRef(null);\r\n    //Chat Queue local list copy\r\n    const [clientQueue, setClientQueue] = useState([]);\r\n    //Current Chat Client ID\r\n    const [currentClient, setCurrentClient] = useState(null);\r\n    //Disconnect time of current client\r\n    const [disconnectTime, setDisconnectTime] = useState(null);\r\n    //Chat Log local list copy\r\n    const [chatLog, setChatLog] = useState([]);\r\n    //Free volunteer local list copy\r\n    const [freeVolun, setFreeVolun] = useState([]);\r\n    //VolunId of transfer chat initiator\r\n    const [transferFromVolunId, setTransferFromVolunId] = useState(null);\r\n    //Flag indicating a start-chat is in progress\r\n    const [isStartingChat, setIsStartingChat] = useState(false);\r\n    //Flag indicating an end-chat is in progress\r\n    const [isEndingChat, setIsEndingChat] = useState(false);\r\n    //Flag indicating a chat message is being sent\r\n    const [isSendingMessage, setIsSendingMessage] = useState(false);\r\n    //Flag indicating the chat queue container is shown full screen (in smaller screen devices)\r\n    const [isQueueOpened, setIsQueueOpened] = useState(false);\r\n    //Flag indicating the current client is typing\r\n    const [isClientTyping, setIsClientTyping] = useState(false);\r\n    //Flag indicating the current user is typing\r\n    const [isUserTyping, setIsUserTyping] = useState(false);\r\n    //Flag indicating the emoji picker is opened\r\n    const [isPickerOpened, setIsPickerOpened] = useState(false);\r\n    //Flag indicating a transfer chat request is ongoing\r\n    const [isTransferringChat, setIsTransferringChat] = useState(false);\r\n\r\n    //Callback for handling chat log changes\r\n    const handleChatLogChanges = (snapshot)=>{\r\n        let tmpChatLog = [];\r\n        console.log(snapshot.val());\r\n        if (snapshot.val() != null){\r\n            for (const chatId in snapshot.val()) tmpChatLog.push({\r\n                'chatId': chatId,\r\n                'uid': snapshot.val()[chatId]['uid'],\r\n                'time': snapshot.val()[chatId]['time'],\r\n                'msg': snapshot.val()[chatId]['msg'],\r\n                'spc': snapshot.val()[chatId]['spc']\r\n            });\r\n        }\r\n        console.log(tmpChatLog);\r\n        setChatLog(tmpChatLog);\r\n    };\r\n\r\n    //Callback for handling Chat Queue changes\r\n    const handleQueueChanges = (snapshot)=>{\r\n        let tmpClientQueue = [];\r\n        let isNewEnqueue = false;\r\n        const oldClientQueue = document.querySelectorAll('.chatroom .queue-container .clients-container .queue-client .client-id');\r\n        console.log(snapshot.val());\r\n        if (snapshot.val() != null){\r\n            for (let userId in snapshot.val()){\r\n                tmpClientQueue.push({\r\n                    'userId': userId,\r\n                    'status': snapshot.val()[userId]['status'],\r\n                    'time': snapshot.val()[userId]['time']\r\n                });\r\n                if (!isNewEnqueue){\r\n                    let isOldEnqueue = false;\r\n                    oldClientQueue.forEach((client)=>{\r\n                        if (client.innerHTML === userId) isOldEnqueue = true;\r\n                    });\r\n                    isNewEnqueue = (!isOldEnqueue);\r\n                }\r\n            }\r\n            for (let i=0; i<tmpClientQueue.length; i++){\r\n                for (let j=0; j<tmpClientQueue.length - i - 1; j++){\r\n                    if (tmpClientQueue[j]['time']>tmpClientQueue[j+1]['time']){\r\n                        let tmp = tmpClientQueue[j];\r\n                        tmpClientQueue[j] = tmpClientQueue[j+1];\r\n                        tmpClientQueue[j+1] = tmp;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isNewEnqueue){\r\n            let audio = new Audio(newClientSound);\r\n            audio.play();\r\n        }\r\n        console.log(tmpClientQueue);\r\n        setClientQueue(tmpClientQueue);\r\n    }\r\n\r\n    //Callback for handling incoming transfer chat request changes\r\n    const handleIncomingTransferChanges = (snapshot)=>{\r\n        console.log(snapshot.val());\r\n        if (snapshot.val() != null){\r\n            if (snapshot.val()['status'] === \"pending\"){\r\n                //Open a confirm modal when a pending transfer request is received\r\n                setTransferFromVolunId(snapshot.val()['from']);\r\n            }\r\n        }else setTransferFromVolunId(null);\r\n    }\r\n\r\n    //Callback for handling outgoing transfer chat request changes\r\n    const handleOutgoingTransferChanges = async (snapshot)=>{\r\n        if (snapshot.val() != null){\r\n            const targetVolunId = sessionStorage.getItem('heartlinehk-targetVolun');\r\n            if (snapshot.val()['status'] === 'accepted'){\r\n                if (targetVolunId != null){\r\n                    //Cancel onDisconnect listener of the transfer request\r\n                    firebase.database().ref(`transfer_requests/${targetVolunId}`).onDisconnect().cancel();\r\n\r\n                    //Copy all previous chat logs to target volunteer's chatroom\r\n                    const tmpChatLog = (await chatroomRef.once('value')).val();\r\n                    await firebase.database().ref(`chat_log/${targetVolunId}`).set(tmpChatLog);\r\n\r\n                    //Unsubscribe to transfer request listener\r\n                    firebase.database().ref(`transfer_requests/${targetVolunId}`).off('value');\r\n\r\n                    //Remove transfer request\r\n                    await firebase.database().ref(`transfer_requests/${targetVolunId}`).remove();\r\n\r\n                    //Remove target volunteer\r\n                    sessionStorage.removeItem('heartlinehk-targetVolun');\r\n\r\n                    //Clear Chat Log\r\n                    await chatroomRef.remove();\r\n                    setChatLog([]);\r\n\r\n                    //Remove Typing Status\r\n                    await typingRef.child(props.currentUser.uid).remove();\r\n\r\n                    let localCurrentClient = sessionStorage.getItem('heartlinehk-currentClient');\r\n                    //Unsubscribe to current client's disconnect time and typing status\r\n                    disconnectRef.child(localCurrentClient).off('value');\r\n                    setDisconnectTime(null);\r\n                    typingRef.child(localCurrentClient).off('value');\r\n                    setIsClientTyping(false);\r\n\r\n                    //Reset current client\r\n                    sessionStorage.removeItem('heartlinehk-currentClient');\r\n                    setCurrentClient(null);\r\n\r\n                    //Set End of Transfer\r\n                    setIsTransferringChat(false);\r\n\r\n                    //Notify the user about the finish of transfer\r\n                    alert(\"轉移對話成功!\");\r\n                }else console.error(\"ERROR: Target Volunteer ID is null!\");\r\n            }else if (snapshot.val()['status'] === 'rejected'){\r\n                //Cancel onDisconnect listener of the transfer request\r\n                firebase.database().ref(`transfer_requests/${targetVolunId}`).onDisconnect().cancel();\r\n\r\n                //Remove transfer request\r\n                await firebase.database().ref(`transfer_requests/${targetVolunId}`).remove();\r\n\r\n                //Remove target volunteer\r\n                sessionStorage.removeItem('heartlinehk-targetVolun');\r\n\r\n                //Set End of Transfer\r\n                setIsTransferringChat(false);\r\n\r\n                //Warn the user about the rejection\r\n                alert(\"該義工已拒絕了你的轉移對話要求!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    //Callback for handling disconnect/reconnect changes\r\n    const handleConnectionChanges = (snapshot)=>{\r\n        setDisconnectTime(snapshot.val());\r\n    };\r\n\r\n    //Callback for handling typing status changes\r\n    const handleTypingStatusChanges = (snapshot)=>{\r\n        setIsClientTyping(snapshot.val());\r\n    }\r\n\r\n    //Function for setting up chatroom database listeners \r\n    const setupChatroomListener = async ()=>{\r\n        try{\r\n            queueRef.orderByChild('time').on('value', handleQueueChanges);\r\n            chatroomRef.orderByChild('time').on('value', handleChatLogChanges);\r\n            transferRef.on('value', handleIncomingTransferChanges);\r\n            let localCurrentClient = sessionStorage.getItem('heartlinehk-currentClient');\r\n            let assignedSnapshot = await assignedRef.once('value');\r\n            for (let clientId in assignedSnapshot.val()){\r\n                if (assignedSnapshot.val()[clientId] === props.currentUser.uid){\r\n                    if (localCurrentClient !== null && localCurrentClient !== clientId) console.warn(\"WARNING: updating local current client as it is different from database!\");\r\n                    localCurrentClient = clientId;\r\n                    break;\r\n                }\r\n            }\r\n            if (localCurrentClient != null){\r\n                disconnectRef.child(localCurrentClient).on('value', handleConnectionChanges);\r\n                typingRef.child(localCurrentClient).on('value', handleTypingStatusChanges);\r\n                setCurrentClient(localCurrentClient);\r\n                sessionStorage.setItem('heartlinehk-currentClient', localCurrentClient);\r\n            }else console.warn(\"WARNING: No client is assigned to the current volunteer!\");\r\n        }catch(error){\r\n            console.error(\"ERROR: \"+error.message);\r\n        }\r\n\r\n    };\r\n\r\n    //Function for initiating a new chat\r\n    const startNewChat = async (e)=>{\r\n        //Progress variable indicates the progress of the start-chat function\r\n        //This can be used to reset everything done if an error has occurred\r\n        let progress = 0;\r\n        //Temp target client ID\r\n        let tmpCurrentClient = null;\r\n        //Temp target client's time-of-arrival in queue\r\n        let tmpInQueueTime = null;\r\n        try{\r\n            //Check if a new chat is already starting\r\n            if (isStartingChat) throw new Error(\"Already starting a new chat!\");\r\n            setIsStartingChat(true);\r\n\r\n            //Check if all database references are available\r\n            if (!queueRef){\r\n                setIsStartingChat(false);\r\n                throw new ReferenceError(\"Chat Queue reference not available!\");\r\n            }else if (!assignedRef){\r\n                setIsStartingChat(false);\r\n                throw new ReferenceError(\"Room Assigned reference not available!\");\r\n            }else if (!chatroomRef){\r\n                setIsStartingChat(false);\r\n                throw new ReferenceError(\"Chat Room reference not available!\");\r\n            }else if (!disconnectRef){\r\n                setIsStartingChat(false);\r\n                throw new ReferenceError(\"Disconnect Time reference not available!\");\r\n            }else if (!typingRef){\r\n                setIsStartingChat(false);\r\n                throw new ReferenceError(\"Typing Status reference not available!\");\r\n            }\r\n            //Check if current client is already set\r\n            else if (currentClient != null){\r\n                setIsStartingChat(false);\r\n                throw new Error(\"CurrentClient is already set!\");\r\n            }else{\r\n                //Get the target client\r\n                let snapshot = await queueRef.orderByChild('time').once('value');\r\n                let tmpClientQueue = [];\r\n                if (snapshot.val() != null){\r\n                    for (let userId in snapshot.val()){\r\n                        tmpClientQueue.push({\r\n                            'userId': userId,\r\n                            'status': snapshot.val()[userId]['status'],\r\n                            'time': snapshot.val()[userId]['time']\r\n                        });\r\n                    }\r\n                    for (let i=0; i<tmpClientQueue.length; i++){\r\n                        for (let j=0; j<tmpClientQueue.length - i - 1; j++){\r\n                            if (tmpClientQueue[j]['time']>tmpClientQueue[j+1]['time']){\r\n                                let tmp = tmpClientQueue[j];\r\n                                tmpClientQueue[j] = tmpClientQueue[j+1];\r\n                                tmpClientQueue[j+1] = tmp;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                for (let i in tmpClientQueue){\r\n                    if (tmpClientQueue[i]['status'] === \"inQueue\"){\r\n                        tmpCurrentClient = tmpClientQueue[i]['userId'];\r\n                        tmpInQueueTime = tmpClientQueue[i]['time'];\r\n                        break;\r\n                    }\r\n                }\r\n                if (tmpCurrentClient === null){\r\n                    setIsStartingChat(false);\r\n                    throw new RangeError(\"No available client in chat queue!\");\r\n                }\r\n\r\n                //Set target client queue status to \"roomAssigned\"\r\n                //This is to prevent multiple volunteers dequeueing the same client\r\n                let queueClientRef = queueRef.child(tmpCurrentClient);\r\n                let queueClientTransaction = await queueClientRef.transaction((queueClient)=>{\r\n                    if (queueClient === null){\r\n                        console.error(\"ERROR: Required Queue Client is Null!\");\r\n                        return;\r\n                    }else if (queueClient['status'] === 'roomAssigned'){\r\n                        console.error(\"ERROR: Required Queue Client has already assigned a room!\");\r\n                        return;\r\n                    }else if (queueClient['status'] === 'inQueue'){\r\n                        return ({\r\n                            'status': \"roomAssigned\",\r\n                            'time': firebase.database.ServerValue.TIMESTAMP\r\n                        });\r\n                    }else{\r\n                        console.error(\"Unknown Error!\");\r\n                        return;\r\n                    }\r\n                });\r\n                if (queueClientTransaction.error){\r\n                    setIsStartingChat(false);\r\n                    throw new Error(queueClientTransaction.error);\r\n                } else if (!queueClientTransaction.committed){\r\n                    setIsStartingChat(false);\r\n                    throw new Error(\"Client Queue Transaction Aborted!\");\r\n                }\r\n                progress += 1;\r\n\r\n                //Set the assigned room of the client to current volunteer ID\r\n                let assignedClientRef = assignedRef.child(tmpCurrentClient);\r\n                let assignedClientTransaction = await assignedClientRef.transaction((assignedClient)=>{\r\n                    if (assignedClient === null){\r\n                        return props.currentUser.uid;\r\n                    }else{\r\n                        console.error(\"ERROR: Client to be assigned has a non-null volunteer ID!\");\r\n                        return;\r\n                    }\r\n                });\r\n                if (assignedClientTransaction.error){\r\n                    setIsStartingChat(false);\r\n                    throw new Error(assignedClientTransaction.error);\r\n                }else if (!assignedClientTransaction.committed){\r\n                    setIsStartingChat(false);\r\n                    throw new Error(\"Client Room Assigned Transaction Aborted!\");\r\n                }\r\n                progress += 1;\r\n\r\n                //If Chatroom is not empty, remove all previous messages\r\n                let tmpChatLog = (await chatroomRef.once('value')).val();\r\n                if (tmpChatLog != null) await chatroomRef.remove();\r\n                progress += 1;\r\n\r\n                //Send an initial message to the chat\r\n                let initialMessageRef = await chatroomRef.push();\r\n                let initialMessageTransaction = await initialMessageRef.transaction((initialMessage)=>{\r\n                    if (initialMessage === null){\r\n                        return {\r\n                            'uid': props.currentUser.uid,\r\n                            'time': firebase.database.ServerValue.TIMESTAMP,\r\n                            'spc': tmpCurrentClient\r\n                        };\r\n                    }else{\r\n                        console.error(\"ERROR: Initial Message is not null!\");\r\n                        return;\r\n                    }\r\n                });\r\n                if (initialMessageTransaction.error){\r\n                    setIsStartingChat(false);\r\n                    throw new Error(initialMessageTransaction.error);\r\n                }else if (!initialMessageTransaction.committed){\r\n                    setIsStartingChat(false);\r\n                    throw new Error(\"Initial Message Transaction Aborted!\");\r\n                }\r\n                progress += 1;\r\n\r\n                //Set current client\r\n                sessionStorage.setItem('heartlinehk-currentClient', tmpCurrentClient);\r\n                setCurrentClient(tmpCurrentClient);\r\n\r\n                //Subscribe to current client's disconnect time and typing status\r\n                disconnectRef.child(tmpCurrentClient).on('value', handleConnectionChanges);\r\n                typingRef.child(tmpCurrentClient).on('value', handleTypingStatusChanges);\r\n\r\n                //End of procedure of starting a new chat\r\n                setIsStartingChat(false);\r\n            }\r\n        }catch(error){\r\n            console.error(\"ERROR: \"+error.message);\r\n            //Resets all finished progress\r\n            if (progress >= 1) await queueRef.child(tmpCurrentClient).set({\r\n                'status': \"inQueue\",\r\n                \"time\": tmpInQueueTime\r\n            });\r\n            if (progress >= 2) await assignedRef.child(tmpCurrentClient).remove();\r\n            //If the step fails at this stage, \r\n            //meaning all the works on database are done.\r\n            //So no resetting is needed. \r\n            if (progress >= 4){\r\n                sessionStorage.setItem('heartlinehk-currentClient', tmpCurrentClient);\r\n                setCurrentClient(tmpCurrentClient);\r\n                setIsStartingChat(false);\r\n            }\r\n            alert(error.message);\r\n        }\r\n    }\r\n\r\n    //Function for ending a continuing chat\r\n    const endChat = async () =>{\r\n        //Progress variable indicates the progress of the start-chat function\r\n        //This can be used to reset everything done if an error has occurred\r\n        let progress = 0;\r\n        //Flag indicating if the client has left or not\r\n        let isClientLeft = false;\r\n        //Start and End Chat Time in milliseconds\r\n        let startChatMsec = 0;\r\n        let endChatMsec = 0;\r\n        try{\r\n            //Check if a chat is already ending\r\n            if (isEndingChat) throw new Error(\"Already ending a chat!\");\r\n            setIsEndingChat(true);\r\n\r\n            //Check if all database references are available\r\n            if (!assignedRef){\r\n                setIsEndingChat(false);\r\n                throw new ReferenceError(\"Room Assigned reference not available!\");\r\n            }else if (!chatroomRef){\r\n                setIsEndingChat(false);\r\n                throw new ReferenceError(\"Chat Room reference not available!\");\r\n            }else if (!disconnectRef){\r\n                setIsEndingChat(false);\r\n                throw new ReferenceError(\"Disconnect Time reference not available!\");\r\n            }else if (!typingRef){\r\n                setIsEndingChat(false);\r\n                throw new ReferenceError(\"Typing Status reference not available!\");\r\n            }else if (!recordRef){\r\n                setIsEndingChat(false);\r\n                throw new ReferenceError(\"Chat Records reference not available!\");\r\n            }\r\n            //Check if current client is null or not\r\n            else if (currentClient == null){\r\n                setIsEndingChat(false);\r\n                throw new Error(\"Current Client is null!\");\r\n            }else{\r\n                //Check if current client has left\r\n                //The client has left when either the room assigned is null\r\n                let snapshot = await assignedRef.child(currentClient).once('value');\r\n                let isRoomAssignedNull = (snapshot.val() === null);\r\n                //or the chat log has a special message of \"clientLeft\"\r\n                let tmpChatLog = (await chatroomRef.once('value')).val();\r\n                let isSpecialMessage  = false; \r\n                if (tmpChatLog != null){\r\n                    for (let chatId in tmpChatLog){\r\n                        if (tmpChatLog[chatId]['spc'] === \"clientLeft\"){\r\n                            isSpecialMessage = true;\r\n                            break;\r\n                        } \r\n                    }\r\n                }\r\n                //Also check if the client is still in queue(i.e. never accept the chat)\r\n                let isClientInQueue = ((await queueRef.child(currentClient).once('value')).val() != null);\r\n                console.log(isRoomAssignedNull, isSpecialMessage, isClientInQueue);\r\n                isClientLeft = (isRoomAssignedNull || isSpecialMessage);\r\n                progress += 1;\r\n\r\n                //If client hasn't left, set the room assigned to \"volunLeft\"\r\n                if (!isClientLeft){\r\n                    if (!isRoomAssignedNull) await assignedRef.child(currentClient).set(\"volunLeft\");\r\n                    if (isClientInQueue) await queueRef.child(currentClient).remove();\r\n                }\r\n                progress += 1;\r\n\r\n                //Get the start and end time of the chat\r\n                let initialChatMessage = (await chatroomRef.orderByChild('time').limitToFirst(1).once('value')).val();\r\n                for (let chatId in initialChatMessage) startChatMsec = initialChatMessage[chatId]['time'];\r\n                endChatMsec = Date.now();\r\n\r\n                //Delete the chat log\r\n                let chatroomTransaction = await chatroomRef.transaction((chatLog)=>{\r\n                    if (chatLog != null){\r\n                        return null;\r\n                    }else{\r\n                        console.error(\"ERROR: Chat Log in Chatroom already null!\");\r\n                        return;\r\n                    }\r\n                });\r\n                if (chatroomTransaction.error){\r\n                    setIsEndingChat(false);\r\n                    throw new Error(chatroomTransaction.error);\r\n                }else if (!chatroomTransaction.committed){\r\n                    setIsEndingChat(false);\r\n                    throw new Error(\"Chatrom Transaction Aborted!\");\r\n                }\r\n                setChatLog([]);\r\n                progress += 1;\r\n\r\n                //Update the chat record\r\n                let currentRecordRef = await recordRef.push();\r\n                await currentRecordRef.set({\r\n                    'uid': props.currentUser.uid,\r\n                    'start': startChatMsec,\r\n                    'end': endChatMsec\r\n                });\r\n\r\n                //Remove Typing Status\r\n                await typingRef.child(props.currentUser.uid).remove();\r\n\r\n                //Unsubscribe to current client's disconnect time and typing status\r\n                disconnectRef.child(currentClient).off('value');\r\n                setDisconnectTime(null);\r\n                typingRef.child(currentClient).off('value');\r\n                setIsClientTyping(false);\r\n\r\n                //Reset current client\r\n                sessionStorage.removeItem('heartlinehk-currentClient');\r\n                setCurrentClient(null);\r\n                \r\n                //End of procedure of ending a chat\r\n                setIsEndingChat(false);\r\n\r\n                //Open popup window for chat record form\r\n                let startChatTime = new Date(startChatMsec);\r\n                const startChatHour = (startChatTime.getHours()<10?\"0\"+startChatTime.getHours().toString():startChatTime.getHours().toString());\r\n                const startChatMinutes = (startChatTime.getMinutes()<10?\"0\"+startChatTime.getMinutes().toString():startChatTime.getMinutes().toString());\r\n                let endChatTime = new Date(endChatMsec);\r\n                const endChatHour = (endChatTime.getHours()<10?\"0\"+endChatTime.getHours().toString():endChatTime.getHours().toString());\r\n                const endChatMinutes = (endChatTime.getMinutes()<10?\"0\"+endChatTime.getMinutes().toString():endChatTime.getMinutes().toString());\r\n                const currentMonth = (endChatTime.getMonth()+1<10?\"0\"+(endChatTime.getMonth()+1).toString():(endChatTime.getMonth()+1).toString());\r\n                const currentDay = (endChatTime.getDate()<10?\"0\"+endChatTime.getDate().toString():endChatTime.getDate().toString());\r\n                const prefilledRecordFormUrl = recordFormUrl+'&'+recordFormEntries['date']+'='+endChatTime.getFullYear()+'-'+currentMonth+'-'+currentDay+'&'+recordFormEntries['startTime']+'='+startChatHour+\":\"+startChatMinutes+'&'+recordFormEntries['endTime']+'='+endChatHour+\":\"+endChatMinutes;\r\n                let popupWindowRef = window.open(prefilledRecordFormUrl, \"ChatRecordForm\", 'resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no,status=yes');\r\n                \r\n            }\r\n        }catch(error){\r\n            console.error(\"ERROR: \"+error.message);\r\n            if (progress >= 2){\r\n                if (!isClientLeft) await assignedRef.child(currentClient).set(props.currentUser.uid);\r\n            } \r\n            //If the step fails at this stage, \r\n            //meaning all the works on database are done.\r\n            //So no resetting is needed. \r\n            if (progress >= 3){\r\n                disconnectRef.child(currentClient).off('value');\r\n                setDisconnectTime(null);\r\n                typingRef.child(currentClient).off('value');\r\n                setIsClientTyping(false);\r\n\r\n                sessionStorage.removeItem('heartlinehk-currentClient');\r\n                setCurrentClient(null);\r\n\r\n                let startChatTime = new Date(startChatMsec);\r\n                const startChatHour = (startChatTime.getHours()<10?\"0\"+startChatTime.getHours().toString():startChatTime.getHours().toString());\r\n                const startChatMinutes = (startChatTime.getMinutes()<10?\"0\"+startChatTime.getMinutes().toString():startChatTime.getMinutes().toString());\r\n                let endChatTime = new Date(endChatMsec);\r\n                const endChatHour = (endChatTime.getHours()<10?\"0\"+endChatTime.getHours().toString():endChatTime.getHours().toString());\r\n                const endChatMinutes = (endChatTime.getMinutes()<10?\"0\"+endChatTime.getMinutes().toString():endChatTime.getMinutes().toString());\r\n                const currentMonth = (endChatTime.getMonth()+1<10?\"0\"+(endChatTime.getMonth()+1).toString():(endChatTime.getMonth()+1).toString());\r\n                const currentDay = (endChatTime.getDate()<10?\"0\"+endChatTime.getDate().toString():endChatTime.getDate().toString());\r\n                const prefilledRecordFormUrl = recordFormUrl+'&'+recordFormEntries['date']+'='+endChatTime.getFullYear()+'-'+currentMonth+'-'+currentDay+'&'+recordFormEntries['startTime']+'='+startChatHour+\":\"+startChatMinutes+'&'+recordFormEntries['endTime']+'='+endChatHour+\":\"+endChatMinutes;\r\n                let popupWindowRef = window.open(prefilledRecordFormUrl, \"ChatRecordForm\", 'resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no,status=yes');\r\n            }\r\n            alert(error.message);\r\n        }\r\n\r\n    }\r\n\r\n    //Function for sending chat message\r\n    const sendChatMessage = async (e)=>{\r\n        e.preventDefault();\r\n        try{\r\n            //Check if a message is already sending\r\n            if (isSendingMessage) throw new Error(\"Already sending a message!\");\r\n            setIsSendingMessage(true);\r\n\r\n            //Check if a chat is ongoing\r\n            if (currentClient === null){\r\n                setIsSendingMessage(false);\r\n                throw new Error(\"Current Client is null!\");\r\n            }\r\n            //Check if the message to be sent is empty\r\n            let messageToBeSent = document.getElementById('msg-input').value;\r\n            if (messageToBeSent === null || messageToBeSent === \"\"){\r\n                setIsSendingMessage(false);\r\n                throw new Error(\"Message to be sent is empty!\");\r\n            }else if (!chatroomRef){\r\n                setIsSendingMessage(false);\r\n                throw new ReferenceError(\"Chatroom reference not available!\");\r\n            }else if (!typingRef){\r\n                setIsSendingMessage(false);\r\n                throw new ReferenceError(\"Typing Status reference not available!\");\r\n            }else{\r\n                //Send the message to chatroom\r\n                let newMessageRef = await chatroomRef.push();\r\n                let newMessageTransaction = await newMessageRef.transaction((newMessage)=>{\r\n                    if (newMessage === null){\r\n                        return {\r\n                            'uid': props.currentUser.uid,\r\n                            'time': firebase.database.ServerValue.TIMESTAMP,\r\n                            'msg': messageToBeSent\r\n                        };\r\n                    }else{\r\n                        console.error(\"ERROR: New Message is not null!\");\r\n                        return;\r\n                    }\r\n                });\r\n                if (newMessageTransaction.error){\r\n                    setIsSendingMessage(false);\r\n                    throw new Error(newMessageTransaction.error);\r\n                }else if (!newMessageTransaction.committed){\r\n                    setIsSendingMessage(false);\r\n                    throw new Error(\"New Message Transaction Aborted!\");\r\n                }\r\n\r\n                //Rese the typing status\r\n                setIsUserTyping(false);\r\n                await typingRef.child(props.currentUser.uid).set(false);\r\n\r\n                //Clear the message input\r\n                document.getElementById('msg-input').value = \"\";\r\n                console.log(\"Message sent!\");\r\n\r\n                setIsSendingMessage(false);\r\n            }\r\n        }catch (error){\r\n            console.error(\"ERROR: \"+error.message);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    //Function for changing the typing status of current user on database\r\n    const changeTypingStatus = (e)=>{\r\n        if (currentClient){\r\n            const currentlyTyping = (e.target.value != \"\");\r\n            if (currentlyTyping != isUserTyping){\r\n                if (typingRef){\r\n                    setIsUserTyping(currentlyTyping);\r\n                    typingRef.child(props.currentUser.uid).set(currentlyTyping);\r\n                }else console.error(\"ERROR: Typing Status reference not available!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    //Callback for handling the form submission of end chat confirmation modal\r\n    const endChatFormHandler = (e)=>{\r\n        e.preventDefault();\r\n        const modalContainerDiv = e.target.parentElement.parentElement;\r\n        if (modalContainerDiv.id === \"endchat-modal\"){\r\n            const isConfirmed = (e.target.className === \"confirm-btn\");\r\n            if (isConfirmed) endChat();\r\n            modalContainerDiv.classList.remove(\"opened\");\r\n        }else console.error(\"ERROR: Parent Element is not an end chat modal!\");\r\n    }\r\n\r\n    //Callback for handling the form submission of start chat confirmation modal\r\n    const startChatFormHandler = (e)=>{\r\n        e.preventDefault();\r\n        const modalContainerDiv = e.target.parentElement.parentElement;\r\n        if (modalContainerDiv.id === \"startchat-modal\"){\r\n            const isConfirmed = (e.target.className === \"confirm-btn\");\r\n            if (isConfirmed){\r\n                toggleQueue();\r\n                startNewChat();\r\n            }\r\n            modalContainerDiv.classList.remove(\"opened\");\r\n        }else console.error(\"ERROR: Parent Element is not a start chat modal!\");\r\n    }\r\n\r\n    //Callback for handling the form submission of the transfer chat dropdown modal\r\n    const trasnferChatFormHandler = async (e)=>{\r\n        e.preventDefault();\r\n        const modalContainerDiv = e.target.parentElement.parentElement;\r\n        if (modalContainerDiv.id === \"transferchat-modal\"){\r\n            const isConfirmed = (e.target.className === \"confirm-btn\");\r\n            if (isConfirmed){\r\n                let localTransferringChat = false;\r\n                try{\r\n                    const volunDropdownList = document.getElementById(\"volun-dropdown-list\");\r\n                    const targetVolunId = volunDropdownList.value;\r\n                    const localCurrentClient = sessionStorage.getItem('heartlinehk-currentClient');\r\n    \r\n                    if (isTransferringChat) throw new Error(\"Already Transferring a chat!\");\r\n                    setIsTransferringChat(true);\r\n                    localTransferringChat = true;\r\n\r\n                    if (targetVolunId === null || targetVolunId === \"\"){\r\n                        setIsTransferringChat(false);\r\n                        throw new Error(\"Target Volunteer is null!\");\r\n                    }else if (localCurrentClient === null){\r\n                        setIsTransferringChat(false);\r\n                        throw new Error(\"Current Client is null!\");\r\n                    }\r\n\r\n                    //Check if the target volunteer is free currently (i.e. target volun is online and not chatting)\r\n                    let isTargetFree = false;\r\n                    const onlineVoluns = (await onlineTimeRef.once('value')).val();\r\n                    const roomAssigned = (await assignedRef.once('value')).val();\r\n                    for (const onlineVolunId in onlineVoluns){\r\n                        if (onlineVolunId === targetVolunId){\r\n                            let isTargetChatting = false;\r\n                            for (const clientId in roomAssigned){\r\n                                if (roomAssigned[clientId] === targetVolunId){\r\n                                    isTargetChatting = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            isTargetFree = (!isTargetChatting);\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!isTargetFree){\r\n                        setIsTransferringChat(false);\r\n                        throw new Error(\"Target Volunteer is either offline or chatting currently!\");\r\n                    }\r\n    \r\n                    //Publish the transfer request\r\n                    await firebase.database().ref(`transfer_requests/${targetVolunId}`).set({\r\n                        'time': firebase.database.ServerValue.TIMESTAMP,\r\n                        'from': props.currentUser.uid,\r\n                        'client': localCurrentClient,\r\n                        'status': \"pending\"\r\n                    });\r\n\r\n                    //Remove transfer request on disconnect\r\n                    firebase.database().ref(`transfer_requests/${targetVolunId}`).onDisconnect().remove();\r\n\r\n                    //Set the target transfer volunteer ID\r\n                    sessionStorage.setItem('heartlinehk-targetVolun', targetVolunId);\r\n    \r\n                    //Subscribe to the transfer request listener\r\n                    firebase.database().ref(`transfer_requests/${targetVolunId}`).on('value', handleOutgoingTransferChanges);\r\n                }catch(error){\r\n                    if (localTransferringChat) setIsTransferringChat(false);\r\n                    console.error(\"ERROR: \"+error.message);\r\n                    alert(error.message);\r\n                }\r\n            }\r\n            modalContainerDiv.classList.remove(\"opened\");\r\n        }else console.error(\"ERROR: Parent Element is not a transfer chat modal!\");\r\n    }\r\n\r\n    //Callback for handling the form submission of the transfer request from initiated volunteer\r\n    const resolveRequestFormHandler = async (e)=>{\r\n        e.preventDefault();\r\n        const modalContainerDiv = e.target.parentElement.parentElement;\r\n        if (modalContainerDiv.id === \"transferrequest-modal\"){\r\n            const isConfirmed = (e.target.className === \"confirm-btn\");\r\n            if (isConfirmed){\r\n                try{\r\n                    const transferDetails = (await transferRef.once('value')).val();\r\n                    if (transferDetails === null) throw new Error(\"No Transfer Request!\");\r\n\r\n                    //Get the client ID to be transferred\r\n                    let tmpClientId = transferDetails['client'];\r\n                    let fromVolunId = transferDetails['from'];\r\n                    console.log(\"Client: \"+tmpClientId);\r\n                    console.log(\"Target Volun: \"+fromVolunId);\r\n\r\n                    //Change the status of transfer request to 'accepted'\r\n                    let requestStatusTransaction = await transferRef.child('status').transaction((oldStatus)=>{\r\n                        if (oldStatus === 'pending') return 'accepted';\r\n                        else{\r\n                            console.error(\"ERROR: Old Status of the transfer request is not pending!\");\r\n                            return;\r\n                        }\r\n                    });\r\n                    if (requestStatusTransaction.error) throw new Error(requestStatusTransaction.error);\r\n                    else if (!requestStatusTransaction.committed) throw new Error(\"Transfer Request Status Transaction Aborted!\");\r\n\r\n                    //Change the room assigned of the client to current user's ID\r\n                    const oldVolunId = (await assignedRef.child(tmpClientId).once('value')).val();\r\n                    if (oldVolunId != fromVolunId) throw new Error(\"Old assigned volunteer is not the same as transfer initiator!\");\r\n                    else await assignedRef.child(tmpClientId).set(props.currentUser.uid);\r\n\r\n                    //Set current client\r\n                    sessionStorage.setItem('heartlinehk-currentClient', tmpClientId);\r\n                    setCurrentClient(tmpClientId);\r\n\r\n                    //Subscribe to current client's disconnect time and typing status\r\n                    disconnectRef.child(tmpClientId).on('value', handleConnectionChanges);\r\n                    typingRef.child(tmpClientId).on('value', handleTypingStatusChanges);\r\n\r\n                    alert(\"對話轉移完成!\");\r\n                }catch(error){\r\n                    console.error(\"ERROR: \"+error.message);\r\n                    alert(error.message);\r\n                }\r\n\r\n            }else await transferRef.child('status').set('rejected');\r\n            setTransferFromVolunId(null);\r\n            modalContainerDiv.classList.remove(\"opened\");\r\n        }else console.error(\"ERROR: Parent Element is not a transfer request modal!\");\r\n    }\r\n\r\n    //Callback for handling selection of emoji in the emoji picker\r\n    const emojiPickerHandler = (e, emojiObject)=>{\r\n        console.log(emojiObject.emoji);\r\n        const msgInput = document.querySelector(\".chatroom .chat-container .input-container #msg-input\");\r\n        let originalMsgStart = msgInput.value.substring(0, msgInput.selectionStart);\r\n        let originalMsgEnd = msgInput.value.substring(msgInput.selectionEnd, msgInput.value.length);\r\n        if (msgInput.selectionStart === 0 && msgInput.selectionEnd === 0){\r\n            originalMsgStart = msgInput.value;\r\n            originalMsgEnd = \"\";\r\n        }\r\n        msgInput.value = originalMsgStart + emojiObject.emoji + originalMsgEnd;\r\n        msgInput.focus();\r\n        msgInput.setSelectionRange(originalMsgStart.length+2, originalMsgStart.length+2);\r\n\r\n    }\r\n\r\n    //Callback for handling selection of special chinese character\r\n    const specialCharHandler = (e)=>{\r\n        const specialChar = e.target.innerHTML;\r\n        console.log(specialChar);\r\n        const msgInput = document.querySelector(\".chatroom .chat-container .input-container #msg-input\");\r\n        let originalMsgStart = msgInput.value.substring(0, msgInput.selectionStart);\r\n        let originalMsgEnd = msgInput.value.substring(msgInput.selectionEnd, msgInput.value.length);\r\n        if (msgInput.selectionStart === 0 && msgInput.selectionEnd === 0){\r\n            originalMsgStart = msgInput.value;\r\n            originalMsgEnd = \"\";\r\n        }\r\n        msgInput.value = originalMsgStart + specialChar + originalMsgEnd;\r\n        msgInput.focus();\r\n        msgInput.setSelectionRange(originalMsgStart.length+1, originalMsgStart.length+1);\r\n    }\r\n\r\n    //Function for toggling between Queue and Chat on screen (in smaller screen devices)\r\n    const toggleQueue = ()=>{\r\n        if (isQueueOpened) setIsQueueOpened(false);\r\n        else setIsQueueOpened(true);\r\n        document.querySelector('.chatroom').classList.toggle(\"queue-opened\");\r\n\r\n    }\r\n\r\n    //Function for toggling the emoji picker\r\n    const toggleEmojiPicker = ()=>{\r\n        if (isPickerOpened) setIsPickerOpened(false);\r\n        else setIsPickerOpened(true);\r\n    }\r\n\r\n    //Function for opening the transfer chat modal\r\n    const openTransferChatModal = async ()=>{\r\n        const modalContainerDiv = document.getElementById(\"transferchat-modal\");\r\n        const onlineVoluns = (await onlineTimeRef.once('value')).val();\r\n        const roomAssigned = (await assignedRef.once('value')).val();\r\n        let tmpFreeVolun = [];\r\n        for (const onlineVolunId in onlineVoluns){\r\n            if (onlineVolunId != props.currentUser.uid){\r\n                let isChatting = false;\r\n                for (const clientId in roomAssigned){\r\n                    if (roomAssigned[clientId] == onlineVolunId){\r\n                        isChatting = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isChatting) tmpFreeVolun.push(onlineVolunId);\r\n            }\r\n        } \r\n        console.log(tmpFreeVolun);\r\n        setFreeVolun(tmpFreeVolun);\r\n        modalContainerDiv.classList.add(\"opened\");\r\n    }\r\n\r\n    //Function for side-scrolling the special chinese character container\r\n    const scrollSpecialChar = (e)=>{\r\n        const rem = parseFloat(getComputedStyle(document.documentElement).fontSize);\r\n        const spcCharDiv = document.querySelector('.chatroom .chat-container .special-char-container');\r\n        const arrowButton = (e.target.className === \"material-icons\"?(e.target.innerHTML === \"arrow_back_ios\"?\"back-arrow\":\"forward-arrow\"):e.target.className);\r\n        if (arrowButton === \"back-arrow\") spcCharDiv.scrollBy(-(1.3 * rem + 12), 0);\r\n        else if (arrowButton === \"forward-arrow\") spcCharDiv.scrollBy((1.3 * rem + 12), 0);\r\n    }\r\n\r\n    const getFormattedDateString = (msec) =>{\r\n        let targetDate = new Date(msec);\r\n        let hourString = (targetDate.getHours()<10?\"0\"+targetDate.getHours().toString():targetDate.getHours().toString());\r\n        let minuteString = (targetDate.getMinutes()<10?\"0\"+targetDate.getMinutes().toString():targetDate.getMinutes().toString());\r\n        let monthString = (targetDate.getMonth()<9?\"0\"+(targetDate.getMonth()+1).toString():(targetDate.getMonth()+1).toString());\r\n        let dayString = (targetDate.getDate()<10?\"0\"+targetDate.getDate().toString():targetDate.getDate().toString());\r\n\r\n        return (hourString+\":\"+minuteString+\", \"+dayString+\"/\"+monthString);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        console.log(\"Chatroom mounted!\");\r\n        setupChatroomListener();\r\n\r\n        return ()=>{\r\n            //Unsubscribe events when unmount component\r\n            console.log(\"Chatroom Unmounted!\");\r\n            let localCurrentClient = sessionStorage.getItem('heartlinehk-currentClient');\r\n            queueRef.orderByChild('time').off('value');\r\n            chatroomRef.orderByChild('time').off('value');\r\n            transferRef.off('value');\r\n            transferRef.off('value');\r\n            if (localCurrentClient){\r\n                disconnectRef.child(localCurrentClient).off('value');\r\n                typingRef.child(localCurrentClient).off('value');\r\n                sessionStorage.removeItem('heartlinehk-currentClient');\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        if (chatLog.length > 0){\r\n            messageContainerDiv.current.scrollTo(0, messageContainerDiv.current.scrollHeight);\r\n        }\r\n    }, [chatLog]);\r\n\r\n    useEffect(()=>{\r\n        const transferRequestModal = document.getElementById('transferrequest-modal');\r\n        if (transferFromVolunId) transferRequestModal.classList.add(\"opened\");\r\n        else if (transferRequestModal != null) transferRequestModal.classList.remove(\"opened\");\r\n    }, [transferFromVolunId]);\r\n\r\n    return (\r\n        <div className=\"chatroom\">\r\n            <ConfirmModal modalId={\"transferrequest-modal\"} confirmText={`義工${transferFromVolunId}向你提出轉移對話，你接受嗎？`} formSubmitHandler={resolveRequestFormHandler}></ConfirmModal>\r\n            <DropdownModal modalId={\"transferchat-modal\"} dropdownId={\"volun-dropdown-list\"} descriptionText={\"請選擇要接手對話的義工。\"} dropdownOptions={freeVolun} formSubmitHandler={trasnferChatFormHandler}></DropdownModal>\r\n            <ConfirmModal modalId={\"endchat-modal\"} confirmText={\"你確定要結束對話嗎？\"} formSubmitHandler={endChatFormHandler}></ConfirmModal>\r\n            <ConfirmModal modalId={\"startchat-modal\"} confirmText={\"你確定要開啟新對話嗎？\"} formSubmitHandler={startChatFormHandler}></ConfirmModal>\r\n            {(isStartingChat || isEndingChat || isTransferringChat) && <Loading></Loading>}\r\n            <div className=\"chat-container\">\r\n                {disconnectTime != null &&\r\n                    <p className=\"disconnect-msg\">使用者已於{getFormattedDateString(disconnectTime)}開始離線。</p>\r\n                }\r\n                <div ref={messageContainerDiv} className=\"messages-container\">\r\n                    {chatLog.map((val, idx)=>{\r\n                        const localCurrentClient = sessionStorage.getItem('heartlinehk-currentClient');\r\n                        return(\r\n                            <p key={val['chatId']} className={\"message \"+(val['spc']?\"special\":(localCurrentClient === null?(val['uid'] === props.currentUser.uid?\"right\":\"left\"):(val['uid'] === localCurrentClient?\"left\":\"right\")))}>\r\n                                {(val['msg']?val['msg']:(specialChatMessages[val['spc']]?specialChatMessages[val['spc']]:specialChatMessages['clientId']))}\r\n                                <span>{getFormattedDateString(val['time'])}</span>\r\n                            </p>\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"special-char-container\">\r\n                    <button className=\"back-arrow\" onClick={scrollSpecialChar}><span className=\"material-icons\">arrow_back_ios</span></button>\r\n                    {specialChineseChars.map((char, idx)=>{\r\n                        return (\r\n                            <button key={\"spc-char\"+idx} className=\"spc-char\" onClick={specialCharHandler}>{char}</button>\r\n                        );\r\n                    })}\r\n                    <button className=\"forward-arrow\" onClick={scrollSpecialChar}><span className=\"material-icons\">arrow_forward_ios</span></button>\r\n                </div>\r\n                <form className=\"input-container\" onSubmit={sendChatMessage}>\r\n                    {isClientTyping && \r\n                        <p className=\"typing-msg\">使用者正在輸入...</p>\r\n                    }\r\n                    <button type=\"button\" name=\"emoji-btn\" id=\"emoji-btn\" onClick={toggleEmojiPicker}><span className=\"material-icons\">emoji_emotions</span></button>\r\n                    <input type=\"text\" name=\"msg-input\" id=\"msg-input\" placeholder=\"按此對話…\" onInput={changeTypingStatus}/>\r\n                    <button type=\"submit\" name=\"submit-btn\" id=\"submit-btn\"><span className=\"material-icons\">send</span></button>\r\n                </form>\r\n                \r\n                {isPickerOpened && <Picker onEmojiClick={emojiPickerHandler}></Picker>}\r\n            </div>\r\n            <div className=\"queue-container\">\r\n                <p className=\"main-text\"><span className=\"material-icons\">people</span><span className=\"queue-count\">{clientQueue.length}</span></p>\r\n                <div ref={clientContainerDiv} className=\"clients-container\">\r\n                    {clientQueue.map((val, idx)=>{\r\n                        return (\r\n                            <p key={val['userId']} className={\"queue-client\"+(val['status'] === \"roomAssigned\"?\" assigned\":\"\")}>\r\n                                Client <span className=\"client-id\">{val['userId']}</span>\r\n                                <span className=\"enqueue-time\" data-time={val[\"time\"]}>{(val[\"status\"] === \"roomAssigned\"?\"被接收\":\"入隊\")}時間: {getFormattedDateString(val['time'])}</span>\r\n                            </p>\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"buttons-container\">\r\n                    <button type=\"submit\" name=\"trasnsfer-btn\" id=\"transfer-btn\" disabled={currentClient == null} onClick={openTransferChatModal}>轉移對話</button>\r\n                    <button type=\"submit\" name=\"start-btn\" id=\"start-btn\" disabled={currentClient != null || clientQueue.length <= 0} onClick={()=>{document.getElementById(\"startchat-modal\").classList.add(\"opened\")}}>開始對話</button>\r\n                    <button type=\"submit\" name=\"end-btn\" id=\"end-btn\" disabled={currentClient == null} onClick={()=>{document.getElementById(\"endchat-modal\").classList.add(\"opened\")}}>結束對話</button>\r\n                </div>\r\n            </div>\r\n            <button className=\"queue-toggle\" onClick={toggleQueue}><span className=\"material-icons\">{(isQueueOpened?\"chat\":\"contacts\")}</span></button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chatroom;","import \"../styles/Dashboard.css\";\r\n\r\nconst Dashboard = () =>{\r\n    return(\r\n        <div className=\"dashboard\">\r\n            <h1>WORK IN PROGRESS</h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dashboard;","import \"../styles/Login.css\";\r\n\r\nconst Login = (props) =>{\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h1 className=\"main-text\">HeartlineHK Login</h1>\r\n            <form className=\"login-form\" onSubmit={props.handleLogin}>\r\n                <label htmlFor=\"login-email\">Email:</label>\r\n                <input type=\"email\" name=\"login-email\" id=\"login-email\" required />\r\n                <label htmlFor=\"login-pwd\">Password:</label>\r\n                <input type=\"password\" name=\"login-password\" id=\"login-password\" required />\r\n                <input type=\"submit\" value=\"Login\" name=\"login-submit\" id=\"login-submit\" />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport ConfirmModal from \"./components/ConfirmModal.js\";\nimport NoticeModal from \"./components/NoticeModal.js\";\nimport NavBar from \"./components/NavBar.js\";\nimport ProfileUpdate from \"./pages/ProfileUpdate.js\";\nimport Supervisor from \"./pages/Supervisor.js\";\nimport Chatroom from \"./pages/Chatroom.js\";\nimport Dashboard from \"./pages/Dashboard.js\";\nimport Login from \"./pages/Login.js\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nfunction App() {\n\n  const onlineTimeRef = firebase.database().ref('online_time');\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n  const [auth, setAuth] = useState(firebase.auth());\n\n  const handleConnectionChanges = async (snapshot)=>{\n    if (auth.currentUser){\n      if (snapshot.val() === true){\n        if (onlineTimeRef){\n          const onlineTimeInfo = (await onlineTimeRef.child(auth.currentUser.uid).once('value')).val();\n          const agentUid = sessionStorage.getItem('heartlinehk-agentUid');\n          const isReconnected = sessionStorage.getItem('heartlinehk-disconnected');\n\n          if (onlineTimeInfo === null || isReconnected === null){\n            await onlineTimeRef.child(auth.currentUser.uid).onDisconnect().remove();\n            await onlineTimeRef.child(auth.currentUser.uid).set({\n              'uid': agentUid,\n              'time': firebase.database.ServerValue.TIMESTAMP\n            });\n            onlineTimeRef.child(auth.currentUser.uid).off('value');\n            onlineTimeRef.child(auth.currentUser.uid).on('value', handleOnlineTimeChanges);\n          }else if (onlineTimeRef['uid'] != agentUid){\n            document.getElementById('auto-logout-modal').classList.add('opened');\n            handleLogout(true);\n          }\n        }else console.error(\"ERROR: Online Time Reference not availabl!\");\n      }else{\n        console.warn(\"WARNING: Current User is disconnected!\");\n        sessionStorage.setItem('heartlinehk-disconnected', Date.now());\n      }\n    }else console.error(\"ERROR: Current User is null!\");\n  }\n\n  const handleOnlineTimeChanges = (snapshot)=>{\n    if (snapshot.val() != null){\n      const loggedInUid = snapshot.val()['uid'];\n      const agentUid = sessionStorage.getItem('heartlinehk-agentUid');\n      if (loggedInUid != agentUid){\n        document.getElementById('auto-logout-modal').classList.add('opened');\n        handleLogout(true);\n      }\n    }\n  };\n\n  const handleLogin = async (e) =>{\n    e.preventDefault();\n    if (!isLoggingIn){\n        setIsLoggingIn(true);\n        let currentEmail = document.getElementById('login-email').value;\n        let currentPassword = document.getElementById('login-password').value;\n        try{\n          await auth.setPersistence(firebase.auth.Auth.Persistence.SESSION);\n          await auth.signInWithEmailAndPassword(currentEmail, currentPassword);\n          console.log(auth.currentUser);\n        }catch (error){\n          console.error(error.message);\n          alert(error.message);\n        }\n        setIsLoggingIn(false);\n    }else{\n      console.error(\"Already logging in\");\n      alert(\"Already logging in!\");\n    }\n  }\n\n  const handleLogout = async (isAutoLogout=false) =>{\n    try{\n      onlineTimeRef.child(auth.currentUser.uid).off('value');\n      firebase.database().ref('.info/connected').off('value');\n      onlineTimeRef.child(auth.currentUser.uid).onDisconnect().cancel();\n      if (!isAutoLogout) await onlineTimeRef.child(auth.currentUser.uid).remove();\n      await auth.signOut();\n      console.log(\"Signed out!\");\n    }catch(error){\n      console.error(error.message);\n      alert(error.message);\n    }\n  }\n\n  //Callback for handling the form submission of logout confirmation modal\n  const logoutFormHandler = (e)=>{\n    e.preventDefault();\n    const modalContainerDiv = e.target.parentElement.parentElement;\n    if (modalContainerDiv.id === \"logout-modal\"){\n        const isConfirmed = (e.target.className === \"confirm-btn\");\n        if (isConfirmed) handleLogout();\n        modalContainerDiv.classList.remove(\"opened\");\n    }else console.error(\"ERROR: Parent Element is not a logout modal!\");\n  }\n\n  //Callback for handling form submission of aut logout notice modal\n  const autoLogoutFormHandler = (e)=>{\n    e.preventDefault();\n    const modalContainerDiv = e.target.parentElement.parentElement;\n    if (modalContainerDiv.id === \"auto-logout-modal\") modalContainerDiv.classList.remove(\"opened\");\n    else console.error(\"ERROR: Parent Element is not a logout modal!\");\n  }\n\n  //Function for generating short ID\n  const generateId = (length)=>{\n    let tmpId = \"\";\n    let charType = 0;\n    let numOfChar = 26;\n    let asciiStart = 97\n    for (let i=0; i<length; i++){\n      charType = Math.floor(Math.random() * 3);\n      numOfChar = (charType === 0 || charType === 1?26:10);\n      asciiStart = (charType === 0?97:(charType === 1?65:48));\n      tmpId = tmpId + String.fromCharCode(Math.floor(Math.random() * numOfChar) + asciiStart);\n    }\n    return tmpId;\n  };\n\n  useEffect(()=>{\n    const authChangeListener = firebase.auth().onAuthStateChanged((user)=>{\n      if (user){\n        console.log(\"User is logged in!\");\n        setCurrentUser(user);\n        firebase.database().ref('.info/connected').off('value');\n        firebase.database().ref('.info/connected').on('value', handleConnectionChanges);\n      }else{\n        sessionStorage.removeItem('heartlinehk-disconnected');\n        setCurrentUser(null);\n      }\n    });\n    return authChangeListener;\n  });\n\n  useEffect(()=>{\n    const setViewHeight = ()=>{\n      let vh = window.innerHeight * 0.01;\n      console.log(vh);\n      console.log(window.innerHeight);\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    };\n    \n    sessionStorage.setItem('heartlinehk-agentUid', generateId(12));\n    setViewHeight();\n    window.addEventListener('resize', setViewHeight);\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"App\" style={{width: \"100vw\", minHeight: \"calc(100 * var(--vh, 1vh))\", position: \"relative\", backgroundColor: \"rgba(0,0,0,0.05)\", display: \"flex\", flexDirection:\"row\", overflow: \"hidden\"}}>\n        <NoticeModal modalId={\"auto-logout-modal\"} noticeText={\"由於此帳號已於另一裝置/視窗上登入，此視窗將會登出帳號。\"} formSubmitHandler={autoLogoutFormHandler}></NoticeModal>\n        {!currentUser && <Login handleLogin={handleLogin}/>}\n        {currentUser && \n          <>\n          <ConfirmModal modalId={\"logout-modal\"} confirmText={\"你確定要登出嗎？\"} formSubmitHandler={logoutFormHandler}></ConfirmModal>\n          <NavBar currentUser={currentUser} handleLogout={()=>{document.getElementById(\"logout-modal\").classList.add('opened')}}/>\n          <Switch>\n            <Route exact path=\"/chatroom\">\n              <Chatroom currentUser={currentUser}/>\n            </Route>\n            <Route exact path=\"/supervisor\">\n              <Supervisor currentUser={currentUser}/>\n            </Route>\n            <Route exact path=\"/profile-update\">\n              <ProfileUpdate currentUser={currentUser}/>\n            </Route>\n            <Route path=\"/\">\n              <Dashboard currentUser={currentUser}/>\n            </Route>\n          </Switch>\n          </>\n        }\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyD-gB_LHwUq2qiUXdDt2CAxGCYQQla4hMo\",\n  authDomain: \"heartlinehk-8e3ec.firebaseapp.com\",\n  databaseURL: \"https://heartlinehk-8e3ec-default-rtdb.asia-southeast1.firebasedatabase.app\",\n  projectId: \"heartlinehk-8e3ec\",\n  storageBucket: \"heartlinehk-8e3ec.appspot.com\",\n  messagingSenderId: \"1077537941035\",\n  appId: \"1:1077537941035:web:f5b566fde9a2363a2d6c6e\",\n  measurementId: \"G-S9JD41562T\"\n};\n\n\nfirebase.initializeApp(firebaseConfig);\n\n\n//firebase.database().useEmulator(\"localhost\", 9000);\n//firebase.auth().useEmulator(\"http://localhost:9099\");\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}